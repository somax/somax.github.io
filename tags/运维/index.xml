<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>è¿ç»´ on So&#39;Blog</title>
    <link>https://somax.me/tags/%E8%BF%90%E7%BB%B4.html</link>
    <description>Recent content in è¿ç»´ on So&#39;Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Thu, 14 Jun 2018 15:19:06 +0800</lastBuildDate>
    
	<atom:link href="https://somax.me/tags/%E8%BF%90%E7%BB%B4/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>ç”¨ SSH å»ºç«‹å®‰å…¨éš§é“</title>
      <link>https://somax.me/memo/ssh-tunneling.html</link>
      <pubDate>Thu, 14 Jun 2018 15:19:06 +0800</pubDate>
      
      <guid>https://somax.me/memo/ssh-tunneling.html</guid>
      <description>å‚è€ƒï¼šhttps://forwardhq.com/help/ssh-tunneling-how-to
 ä½¿ç”¨ SSH èƒ½å¤Ÿå®‰å…¨åœ°è®¿é—®è¿œç¨‹æœåŠ¡å™¨ï¼ŒåŒæ—¶ SSH ä¹Ÿæœ‰ä¸€äº›é²œä¸ºäººçŸ¥çš„ç‰¹ç‚¹ã€‚å…¶ä¸­ä¸€ä¸ªå¾ˆå‰å®³åŠŸèƒ½å°±æ˜¯éš§é“ã€‚
éš§é“å…è®¸ä½ å°†è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªç«¯å£è½¬å‘åˆ°æœ¬åœ°æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªç«¯å£ã€‚è¿™å¯¹äºwebå¼€å‘è€…å°¤å…¶æœ‰ç”¨ï¼Œå®ƒå…è®¸ä½ åœ¨æœ¬åœ°WebæœåŠ¡å™¨å’Œäº’è”ç½‘ä¹‹é—´åˆ›å»ºä¸€ä¸ªéš§é“ï¼Œåœ¨äº’è”ç½‘çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªéš§é“è®¿é—®æ‚¨çš„æœ¬åœ°åº”ç”¨ç¨‹åºæˆ–ç½‘ç«™ã€‚
è¿™ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•åˆ©ç”¨ SSH Tunneling çªç ´é˜²ç«å¢™å»ºç«‹è¿œç¨‹é“¾æ¥ã€‚
å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š
{ ç§æœ‰æœåŠ¡å™¨ } ---- å‘èµ· ssh tunneling ---&amp;gt; { å…¬å¼€æœåŠ¡å™¨ } &amp;lt;----- { å®¢æˆ·æœº }  å‰ç½®æ¡ä»¶  ä½ éœ€è¦æœ‰ä¸€ä¸ªå¯å…¬å¼€è®¿é—®çš„æœåŠ¡å™¨ï¼Œå¯ä»¥æ˜¯ä»»ä½•ä¸€ç§æœåŠ¡å™¨åªè¦æœ‰å®‰è£…æœ‰ SSH æœåŠ¡ã€‚
 ä½ è¿˜éœ€è¦è®¾ç½®SSHæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ  GatewayPorts yesã€‚
 é…ç½®æ–‡ä»¶é€šå¸¸æ˜¯ä½äº/etc/ssh/sshd_configï¼Œå¯èƒ½å–å†³äºæ‚¨çš„ç³»ç»Ÿçš„ä¸åŒã€‚ä¿®æ”¹åï¼Œä¸€å®šè¦é‡æ–°å¯åŠ¨SSHæœåŠ¡ï¼Œè¿è¡Œ sudo service sshd restart
 ä¸ºäº†ä¿æŒè¿æ¥é˜²æ­¢è¶…æ—¶æ–­å¼€ï¼Œè¿˜éœ€è¦åœ¨é…ç½®ä¸­æ·»åŠ  ClientAliveInterval 60
 ClientAliveInterval æŒ‡å®šäº†æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯è¯·æ±‚æ¶ˆæ¯çš„æ—¶é—´é—´éš”, é»˜è®¤æ˜¯0ï¼Œä¸å‘é€ã€‚è€ŒClientAliveInterval 60è¡¨ç¤ºæ¯ 60 ç§’å‘é€ä¸€æ¬¡ï¼Œç„¶åå®¢æˆ·ç«¯å“åº”ï¼Œè¿™æ ·å°±ä¿æŒé•¿è¿æ¥äº†ã€‚
å¦å¤–ClientAliveCountMax ä½¿ç”¨é»˜è®¤å€¼ 3 å³å¯ã€‚ClientAliveCountMax è¡¨ç¤ºæœåŠ¡å™¨å‘å‡ºè¯·æ±‚åå®¢æˆ·ç«¯æ²¡æœ‰å“åº”çš„æ¬¡æ•°è¾¾åˆ°ä¸€å®šå€¼ï¼Œå°±è‡ªåŠ¨æ–­å¼€ã€‚
  ä¿®æ”¹é…ç½®  å…ˆæŸ¥çœ‹å½“å‰é…ç½®
cd /etc/ssh sudo grep &amp;#34;ClientAlive&amp;#34; sshd_config #ClientAliveInterval 0 #ClientAliveCountMax 3 å¤‡ä»½é…ç½®</description>
    </item>
    
    <item>
      <title>k8s å­¦ä¹ ç¬”è®°</title>
      <link>https://somax.me/teambition/tb_5afd7ecef496bb0018d2e144.html</link>
      <pubDate>Thu, 17 May 2018 13:08:30 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_5afd7ecef496bb0018d2e144.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ5afd7ecef496bb0018d2e144ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 å®‰è£… kubectl å¯ç”¨å‘½ä»¤è‡ªåŠ¨è¡¥å®Œ Zsh  å®˜æ–¹æ–‡æ¡£ï¼š https://kubernetes.io/docs/tasks/tools/install-kubectl/
 If you are using zsh edit the ~/.zshrc file and add the following code to enable kubectl autocompletion:
if [ $commands[kubectl] ]; then source &amp;lt;(kubectl completion zsh) fi Or when using Oh-My-Zsh, edit the ~/.zshrc file and update the plugins= line to include the kubectl plugin.
source &amp;lt;(kubectl completion zsh) å®‰è£… minikube  å®˜æ–¹æ–‡æ¡£ï¼šhttps://kubernetes.io/docs/tasks/tools/install-minikube/#install-minikube
å› ä¸ºç½‘ç»œçš„åŸå› ï¼Œå›½å†…å®‰è£…è¦ç”¨é˜¿é‡Œæ”¹è¿‡çš„ç‰ˆæœ¬ï¼Œå‚è€ƒï¼š
 https://yq.</description>
    </item>
    
    <item>
      <title>å†…éƒ¨å¹¶è”ç½‘ç»œæ‰“é€šé…ç½®æ–¹æ³•</title>
      <link>https://somax.me/teambition/tb_5afd4b7f8fb0b000189366aa.html</link>
      <pubDate>Thu, 17 May 2018 09:29:35 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_5afd4b7f8fb0b000189366aa.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ5afd4b7f8fb0b000189366aaï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 ç½‘ç»œæ‹“æ‰‘  [192.168.126.0] / \ [wan: 192.168.126.200] [wan: 192.168.126.233] TP-Link | | MiRoute Pro [lan: 192.168.123.0] [lan: 192.168.120.0]  ç›®çš„ å°† 192.168.123.0ç½‘æ®µä¸ 192.168.120.0 ç½‘æ®µç›¸äº’æ‰“é€šã€‚
é…ç½®æ–¹æ¡ˆ åœ¨ä¸¤ä¸ªå­ç½‘è·¯ç”±å™¨ä¸Šåˆ†åˆ«è®¾ç½®é™æ€è·¯ç”±ï¼Œ192.168.123.0 ç½‘æ®µè®¿é—® 192.168.120.0 é…ç½®è·¯ç”±æŒ‡å‘ 192.168.126.233 ï¼ŒåŒç† 192.168.120.0 ç½‘æ®µè®¿é—® 192.168.123.0 ç½‘æ®µåˆ™é…ç½®è·¯ç”±æŒ‡å‘ 192.168.126.200
å…·ä½“æ­¥éª¤ é…ç½® TP-Link è·¯ç”±å™¨  æ·»åŠ é™æ€è·¯ç”±è§„åˆ™ï¼š
 ç™»å½•æ§åˆ¶ç•Œé¢ï¼Œé€‰æ‹© ã€ä¼ è¾“æ§åˆ¶ã€ - ã€è·¯ç”±è®¾ç½®ã€-ã€é™æ€è·¯ç”±ã€
 ç‚¹é€‰ã€æ–°å¢ã€
   è§„åˆ™åç§°: to120 ç›®çš„åœ°å€: 192.168.120.0 å­ç½‘æ©ç : 255.255.255.0 ä¸‹ä¸€è·³: 192.168.126.233 å‡ºæ¥å£: WAN1  â€‹</description>
    </item>
    
    <item>
      <title>Gitlab å¤‡ä»½åˆ° Minio çš„é…ç½®æ–¹æ³•</title>
      <link>https://somax.me/teambition/tb_5af07ebce98ef93186181ac0.html</link>
      <pubDate>Mon, 07 May 2018 16:28:44 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_5af07ebce98ef93186181ac0.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ5af07ebce98ef93186181ac0ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
  è¿›å…¥ Gitlab å®¹å™¨æ“ä½œï¼šdocker exec -it &amp;lt;container-id&amp;gt; bash
 ç¼–è¾‘ /etc/gitlab/gitlab.rb
  gitlab_rails[&amp;#39;backup_upload_connection&amp;#39;] = { &amp;#39;provider&amp;#39; =&amp;gt; &amp;#39;AWS&amp;#39;, &amp;#39;aws_access_key_id&amp;#39; =&amp;gt; &amp;#39;xxxxxxxxxxxxx&amp;#39;, &amp;#39;aws_secret_access_key&amp;#39; =&amp;gt; &amp;#39;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&amp;#39;, &amp;#39;endpoint&amp;#39; =&amp;gt; &amp;#39;http://minio-server-host:9000&amp;#39;, &amp;#39;path_style&amp;#39; =&amp;gt; true } gitlab_rails[&amp;#39;backup_upload_remote_directory&amp;#39;] = &amp;#39;bucket-name&amp;#39; æ³¨æ„äº‹é¡¹ï¼š
 å¿…é¡»è®¾ç½® &#39;path_style&#39; =&amp;gt; true aws_access_key_id å’Œ aws_secret_access_key å¯¹åº”çš„æ˜¯ Minio çš„ Access Key ä¸ Secret Keyï¼Œæ³¨æ„è¿™ä¸¤ä¸ªå€¼å¿…é¡»è¶³å¤Ÿå¤æ‚ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´ 403 é”™è¯¯   é‡æ–°é…ç½® gitlabï¼šgitlab-ctl reconfigureï¼Œé…ç½®æ­£ç¡®çš„è¯ä¼šè‡ªåŠ¨é‡å¯ Gitlab
 è¿è¡Œå¤‡ä»½å‘½ä»¤ï¼šgitlab-rake gitlab:backup:create
  å¦‚æœåé¦ˆä¸­æœ‰ Uploading backup archive to remote storage mybucket .</description>
    </item>
    
    <item>
      <title>å®¹å™¨ä¸­è¿è¡Œçš„ Gitlab å¤‡ä»½æ–¹æ³•</title>
      <link>https://somax.me/teambition/tb_5ae1f9b051c9c600182a40aa.html</link>
      <pubDate>Thu, 26 Apr 2018 16:09:20 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_5ae1f9b051c9c600182a40aa.html</guid>
      <description>  è¿™ç¯‡æ–‡ç« ï¼ˆ5ae1f9b051c9c600182a40aaï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 åŸæ–‡ï¼š https://docs.gitlab.com/omnibus/settings/backups.html#creating-backups-for-gitlab-instances-in-docker-containers
å¤‡ä»½ Gitlab æ•°æ® docker exec -t &amp;lt;your container name&amp;gt; gitlab-rake gitlab:backup:create å¤‡ä»½é…ç½®æ–‡ä»¶ docker exec -t &amp;lt;your container name&amp;gt; /bin/sh -c &amp;#39;umask 0077; tar cfz /secret/gitlab/backups/$(date &amp;#34;+etc-gitlab-%s.tgz&amp;#34;) -C / etc/gitlab&amp;#39;</description>
    </item>
    
    <item>
      <title>ä½¿ç”¨å®¹å™¨éƒ¨ç½² OpenVPN</title>
      <link>https://somax.me/teambition/tb_5ad5ff7346021671da825337.html</link>
      <pubDate>Tue, 17 Apr 2018 14:06:43 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_5ad5ff7346021671da825337.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ5ad5ff7346021671da825337ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
éƒ¨ç½²è¿‡ç¨‹ä½¿ç”¨äº†å¼€æºé¡¹ç›®ï¼škylemanna/docker-openvpnï¼Œè¯¦ç»†æ–‡æ¡£è¯·è®¿é—® https://github.com/kylemanna/docker-openvpn
  ä¸ºæ•°æ®å·é€‰ä¸ªåå­—å­˜æ”¾åˆ°ç¯å¢ƒå˜é‡ $OVPN_DATAï¼Œå»ºè®®ä½¿ç”¨ ovpn-data- å‰ç¼€æ¥æ–¹ä¾¿è¯†åˆ«ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­è¯·æ›¿æ¢ exampleã€‚  OVPN_DATA=&amp;#34;ovpn-data-example&amp;#34;  åˆå§‹åŒ– $OVPN_DATA å®¹å™¨ï¼Œè¿™ä¸ªå®¹å™¨å°†ç”¨æ¥å­˜æ”¾é…ç½®æ–‡ä»¶ä¸è¯ä¹¦ã€‚ åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šæç¤ºè¾“å…¥å¯†ç æ¥ä¿æŠ¤è¯ä¹¦ã€‚ä¸‹é¢çš„ç¤ºä¾‹ä¸­è¯·ä½¿ç”¨åˆé€‚çš„åŸŸåæˆ– IP åœ°å€æ›¿æ¢ VPN.SERVERNAME.COMã€‚  docker volume create --name $OVPN_DATA docker run -v $OVPN_DATA:/etc/openvpn --rm kylemanna/openvpn ovpn_genconfig -u udp://VPN.SERVERNAME.COM docker run -v $OVPN_DATA:/etc/openvpn --rm -it kylemanna/openvpn ovpn_initpki  å¯åŠ¨å®¹å™¨  docker run -v $OVPN_DATA:/etc/openvpn -d -p 1194:1194/udp --cap-add=NET_ADMIN kylemanna/openvpn  ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦ï¼ˆæ— å¯†ç ï¼‰  docker run -v $OVPN_DATA:/etc/openvpn --rm -it kylemanna/openvpn easyrsa build-client-full CLIENTNAME nopass  å¯¼å‡ºå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶ï¼ˆåŒ…å«è¯ä¹¦ï¼‰  docker run -v $OVPN_DATA:/etc/openvpn --rm kylemanna/openvpn ovpn_getclient CLIENTNAME &amp;gt; CLIENTNAME.</description>
    </item>
    
    <item>
      <title>Rancher ä¸­ RethinkDB é›†ç¾¤èŠ‚ç‚¹æ— æ³•å¯åŠ¨æ•…éšœæ’é™¤</title>
      <link>https://somax.me/teambition/tb_5a0fe53a4da5ce0928d5f28d.html</link>
      <pubDate>Sat, 18 Nov 2017 07:46:02 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_5a0fe53a4da5ce0928d5f28d.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ5a0fe53a4da5ce0928d5f28dï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 æ•…éšœæè¿°  ä¹‹å‰ RethinkDB æŒ‰ç…§ 1 + 3 çš„æ¨¡å¼é›†ç¾¤éƒ¨ç½²æˆåŠŸï¼Œæ¯ä¸ªèŠ‚ç‚¹åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„ host ä¸Šã€‚ç”±äºæŸç§æœªçŸ¥åŸå› ï¼Œå…¶ä¸­ä¸€å° host åœ¨ Rancher ä¸­å¤±è”ï¼Œåœ¨è¿æ¥æ¢å¤åè¯¥ host ä¸Šçš„ RethinkDB å°±ä¸€ç›´æ— æ³•æ­£å¸¸å¯åŠ¨ã€‚  è§£å†³è¿‡ç¨‹  é¦–å…ˆæ£€æŸ¥äº† RethinkDB èŠ‚ç‚¹çš„æ—¥å¿—ï¼Œå‘ç°ä¸€åˆ‡æ­£å¸¸ï¼Œä½† Rancher UI ä¸Šçš„çŠ¶æ€å´ä¸€ç›´æ˜¾ç¤ºä¸æ­£å¸¸ åœ¨ RethinkDB ç®¡ç†ç•Œé¢ä¸Šæœ‰ä¸€ç¬é—´çœ‹åˆ°äº†ç¬¬ä¸‰ä¸ªèŠ‚ç‚¹åŠ å…¥ï¼Œç„¶åå¿½ç„¶åˆæ²¡äº†ï¼Œæ¨æ–­è¯¥èŠ‚ç‚¹å®¹å™¨åœ¨è¢« Rancher ä¸€ç›´é‡å¯ æ£€æŸ¥ Rancher åŸºç¡€æœåŠ¡ï¼Œå‘ç° Rancher/HealthCheck å¤„äºä¸æ­£å¸¸çŠ¶æ€ï¼Œå°è¯•é‡å¯ã€åˆ é™¤éƒ½æ²¡æœ‰æˆåŠŸã€‚ è¿œç¨‹è¿›å…¥å®¹å™¨æ‰€åœ¨ä¸»æœºï¼Œç”¨ docker å‘½ä»¤ killï¼Œç«Ÿç„¶æ²¡ç”¨ ğŸ¤·â€â™‚ï¸ Rancher ä¸­åœæ­¢ä¸»æœºï¼Œå†åˆ ï¼Œè¿˜æ˜¯æ²¡æœ‰ç”¨ ğŸ¤·â€â™€ï¸ è¦ä¸é‡å¯ä¸»æœºï¼Ÿç­‰ä¸‹&amp;hellip;&amp;hellip; è¿˜æ˜¯å…ˆè¯•è¯•é‡å¯ docker å§&amp;hellip;  è§£å†³æ–¹æ¡ˆ  é‡å¯ Docker sudo systemctl restart docker  æˆåŠŸğŸ‘Œï¼ŒRancher ä¼šå¸®æˆ‘ä»¬æŠŠä½™ä¸‹çš„äº‹æƒ…åšæ‰ï¼Œæ‰€æœ‰çš„å®¹å™¨ä¸å‡ºæ„å¤–éƒ½ä¼šè‡ªåŠ¨èµ·æ¥ï¼ˆäº‹å®ä¸Šçš„ç¡®æ²¡å‡ºæ„å¤–ï¼‰ã€‚æ¥å†æ£€æŸ¥ä¸€ä¸‹ï¼ŒHealthCheck âœ…ï¼Œ RethinkDB âœ…ï¼Œæå®šï¼</description>
    </item>
    
    <item>
      <title>ç”¨ sh è„šæœ¬ç”Ÿæˆ Niginx Vhost é…ç½®æ–‡ä»¶</title>
      <link>https://somax.me/teambition/tb_59005034c621c6c81bf78e70.html</link>
      <pubDate>Wed, 26 Apr 2017 07:45:56 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_59005034c621c6c81bf78e70.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ59005034c621c6c81bf78e70ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 touch ngxcfg.sh $$ chmod +x ngxcfg.sh è„šæœ¬ä»£ç å¦‚ä¸‹ï¼š
#!/bin/bash # MaXiaojun  help() { echo &amp;#34;Generate vhost configuration file for Nginx&amp;#34; echo &amp;#34;Usage:&amp;#34; echo &amp;#34; ngxcfg &amp;#34; echo &amp;#34; ngxcfg -r www.jkr3.com https://192.168.123.123:8080&amp;#34; echo &amp;#34; -h Help&amp;#34; echo &amp;#34; -r Generate redirect config file.&amp;#34; echo &amp;#34; -f Force overwrite config file.&amp;#34; } # get options while getopts &amp;#34;:hrfv&amp;#34; optname &amp;#34;$@&amp;#34; do case &amp;#34;$optname&amp;#34; in &amp;#34;v&amp;#34;) echo v0.</description>
    </item>
    
    <item>
      <title>ShadowSock å¿«é€Ÿä¸Šæ‰‹</title>
      <link>https://somax.me/teambition/tb_5645566510638ccf2327a70e.html</link>
      <pubDate>Fri, 13 Nov 2015 03:17:57 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_5645566510638ccf2327a70e.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ5645566510638ccf2327a70eï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 Server Install Debian / Ubuntu:
apt-get install python-pip pip install shadowsocks  CentOS:
yum install python-setuptools &amp;amp;&amp;amp; easy_install pip pip install shadowsocks  Windows:
See [Install Server on Windows]
Usage ssserver -p 443 -k password -m aes-256-cfb  To run in the background:
sudo ssserver -p 443 -k password -m aes-256-cfb --user nobody -d start  To stop:
sudo ssserver -d stop  To check the log:</description>
    </item>
    
    <item>
      <title>Nginx æºç å®‰è£…</title>
      <link>https://somax.me/teambition/tb_56189a31e7a72b1965b6df12.html</link>
      <pubDate>Sat, 10 Oct 2015 04:55:13 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_56189a31e7a72b1965b6df12.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ56189a31e7a72b1965b6df12ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 å®‰è£…å‡†å¤‡ é¦–å…ˆç”±äºnginxçš„ä¸€äº›æ¨¡å—ä¾èµ–ä¸€äº›libåº“ï¼Œæ‰€ä»¥åœ¨å®‰è£…nginxä¹‹å‰ï¼Œå¿…é¡»å…ˆå®‰è£…è¿™äº›libåº“ï¼Œè¿™äº›ä¾èµ–åº“ä¸»è¦æœ‰g++ã€gccã€openssl-develã€pcre-develå’Œzlib-devel ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å®‰è£…ã€‚
$ yum install gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel  å®‰è£…Nginx # å®‰è£…ä¹‹å‰ï¼Œæœ€å¥½æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å·²ç»å®‰è£…æœ‰nginx $ find -name nginx # å¦‚æœç³»ç»Ÿå·²ç»é€šè¿‡ yum å®‰è£…äº†nginxï¼Œé‚£ä¹ˆå°±å…ˆå¸è½½ $ yum remove nginx # ä»å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆçš„nginx $ wget http://nginx.org/download/nginx-1.9.3.tar.gz # è§£å‹nginxå‹ç¼©åŒ… $ tar -zxvf nginx-1.9.3.tar.gz # è¿™æ—¶è¿›å…¥nginx-1.9.3ç›®å½• $ cd nginx-1.9.3 # --prefixå‚æ•°æŒ‡å®šnginxå®‰è£…çš„ç›®å½•, åŠ ä¸Š --with-http_ssl_module ä½¿æ”¯æŒhttpsï¼ŒåŠ ä¸Š--with-http_v2_module æ”¯æŒ http/2ï¼ˆ1.9.5 ä»¥ä¸Šï¼‰ # å¦‚æœå®‰è£…è¿‡ç¨‹ä¸­è¯´ç³»ç»Ÿæ²¡æœ‰å®‰è£… Opensslï¼Œé‡æ–°å®‰è£…`yum install openssl openssl--devel `ï¼Œ ä¹Ÿå¯ä»¥åŠ ä¸Š--with-openssl=/usr/local/openssl-0.x.x å‚æ•° $ ./configure --prefix=/usr/local/nginx --with-http_ssl_module --with-http_v2_module # æˆ–è€…åŠ è½½æ›´å¤šæ¨¡å— # .</description>
    </item>
    
    <item>
      <title>Rsync åœ¨éæ ‡sshç«¯å£(22) ä¸­ç”¨æ³•</title>
      <link>https://somax.me/teambition/tb_560e1356d908de0d2585d058.html</link>
      <pubDate>Fri, 02 Oct 2015 05:17:10 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_560e1356d908de0d2585d058.html</guid>
      <description>  è¿™ç¯‡æ–‡ç« ï¼ˆ560e1356d908de0d2585d058ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 é—®é¢˜ ä½¿ç”¨rsyncæ‹·è´æ–‡ä»¶ï¼Œæœ‰ä¸ªä¸»æœºçš„sshç«¯å£ä½¿ç”¨çš„å¹¶éæ ‡å‡†ç«¯å£(22)ï¼ŒæŸ¥çœ‹rsyncçš„æ–‡æ¡£ï¼Œçœ‹åˆ°æœ‰ç§å¸¦æœ‰ç«¯å£çš„ç”¨æ³•ï¼š
rsync [OPTION]... SRC [SRC]... rsync://[USER@]HOST[:PORT]/DEST ä½†ä½¿ç”¨ä¼šè¿”å›é”™è¯¯ï¼š
rsync: server sent &amp;#34;SSH-2.0-OpenSSH_5.3&amp;#34; rather than greeting rsync error: error starting client-server protocol (code 5) at main.c(1534) [sender=3.0.9] è§£å†³ å¼€å§‹ä»¥ä¸ºæ˜¯å®¢æˆ·ç«¯æœåŠ¡å™¨rsyncç‰ˆæœ¬ä¸å…¼å®¹ï¼Œåæ¥å‘ç°å¯¹äºéæ ‡å‡†sshç«¯å£(22)çš„ä½¿ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨-eå‚æ•°ï¼š
rsync [OPTION]... -e &amp;#34;ssh -p 2222&amp;#34; SRC [SRC]... [USER@]HOST[:PORT]/DEST</description>
    </item>
    
    <item>
      <title>iptables é…ç½®èŒƒä¾‹</title>
      <link>https://somax.me/teambition/tb_560b7b14262a98424070c7a7.html</link>
      <pubDate>Wed, 30 Sep 2015 06:03:00 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_560b7b14262a98424070c7a7.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ560b7b14262a98424070c7a7ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 linux ç³»ç»Ÿä¸­ä½¿ç”¨ iptables é…ç½®é˜²ç«å¢™
ä¿®æ”¹æ–‡ä»¶ï¼š/etc/sysconfig/iptables
*filter :INPUT ACCEPT [0:0] :FORWARD ACCEPT [0:0] :OUTPUT ACCEPT [0:0] -A INPUT -s 127.0.0.1/32 -d 127.0.0.1/32 -j ACCEPT -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT -A INPUT -p tcp -m tcp --dport 22 -j ACCEPT -A INPUT -p tcp -m tcp --dport 80 -j ACCEPT -A INPUT -p tcp -m tcp --dport 443 -j ACCEPT -A INPUT -p tcp -m tcp --dport 21 -j ACCEPT -A INPUT -p tcp -m tcp --dport 20 -j ACCEPT -A INPUT -p tcp -m tcp --dport 8080 -j ACCEPT -A INPUT -j REJECT --reject-with icmp-port-unreachable -A FORWARD -j REJECT --reject-with icmp-port-unreachable -A OUTPUT -j ACCEPT COMMIT é‡æ–°å¯åŠ¨ service iptables restart</description>
    </item>
    
    <item>
      <title>ç†è§£Linuxç³»ç»Ÿè´Ÿè·</title>
      <link>https://somax.me/teambition/tb_558232c63dd208c010934638.html</link>
      <pubDate>Thu, 18 Jun 2015 02:53:58 +0000</pubDate>
      
      <guid>https://somax.me/teambition/tb_558232c63dd208c010934638.html</guid>
      <description>è¿™ç¯‡æ–‡ç« ï¼ˆ558232c63dd208c010934638ï¼‰æ˜¯ä» Teambition è¿ç§»è¿‡æ¥çš„
 æŸ¥çœ‹ç³»ç»Ÿè´Ÿè· åœ¨Linuxç³»ç»Ÿä¸­ï¼Œä½¿ç”¨uptimeå‘½ä»¤æŸ¥çœ‹ï¼ˆwå‘½ä»¤å’Œtopå‘½ä»¤ä¹Ÿè¡Œï¼‰ã€‚ï¼ˆå¦å¤–ï¼Œå®ƒä»¬åœ¨è‹¹æœå…¬å¸çš„Macç”µè„‘ä¸Šä¹Ÿé€‚ç”¨ã€‚ï¼‰
 10:39 up 1 day, 21:03, 4 users, load averages: 2.99 2.94 2.92  è¿™è¡Œä¿¡æ¯çš„ååŠéƒ¨åˆ†ï¼Œæ˜¾ç¤º&amp;rdquo;load average&amp;rdquo;ï¼Œå®ƒçš„æ„æ€æ˜¯&amp;rdquo;ç³»ç»Ÿçš„å¹³å‡è´Ÿè·&amp;rdquo;ï¼Œåˆ†åˆ«æ˜¯1åˆ†é’Ÿã€5åˆ†é’Ÿã€15åˆ†é’Ÿå†…ç³»ç»Ÿçš„å¹³å‡è´Ÿè·ã€‚
å¦‚æœä½ ç»§ç»­çœ‹æ‰‹å†Œï¼Œå®ƒè¿˜ä¼šå‘Šè¯‰ä½ ï¼Œå½“CPUå®Œå…¨ç©ºé—²çš„æ—¶å€™ï¼Œå¹³å‡è´Ÿè·ä¸º0ï¼›å½“CPUå·¥ä½œé‡é¥±å’Œçš„æ—¶å€™ï¼Œå¹³å‡è´Ÿè·ä¸º1ã€‚ é‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œ&amp;rdquo;load average&amp;rdquo;çš„å€¼è¶Šä½ï¼Œæ¯”å¦‚ç­‰äº0.2æˆ–0.3ï¼Œå°±è¯´æ˜ç”µè„‘çš„å·¥ä½œé‡è¶Šå°ï¼Œç³»ç»Ÿè´Ÿè·æ¯”è¾ƒè½»ã€‚
ä¸€ä¸ªç±»æ¯” åˆ¤æ–­ç³»ç»Ÿè´Ÿè·æ˜¯å¦è¿‡é‡ï¼Œå¿…é¡»ç†è§£load averageçš„çœŸæ­£å«ä¹‰ã€‚ å‡è®¾æœ€ç®€å•çš„æƒ…å†µï¼Œä½ çš„ç”µè„‘åªæœ‰ä¸€ä¸ªCPUï¼Œæ‰€æœ‰çš„è¿ç®—éƒ½å¿…é¡»ç”±è¿™ä¸ªCPUæ¥å®Œæˆã€‚ æˆ‘ä»¬æŠŠè¿™ä¸ªCPUæƒ³è±¡æˆä¸€åº§å¤§æ¡¥ï¼Œæ¡¥ä¸Šåªæœ‰ä¸€æ ¹è½¦é“ï¼Œæ‰€æœ‰è½¦è¾†éƒ½å¿…é¡»ä»è¿™æ ¹è½¦é“ä¸Šé€šè¿‡ã€‚ ç³»ç»Ÿè´Ÿè·ä¸º0ï¼Œæ„å‘³ç€å¤§æ¡¥ä¸Šä¸€è¾†è½¦ä¹Ÿæ²¡æœ‰ã€‚ ç³»ç»Ÿè´Ÿè·ä¸º0.5ï¼Œæ„å‘³ç€å¤§æ¡¥ä¸€åŠçš„è·¯æ®µæœ‰è½¦ã€‚ ç³»ç»Ÿè´Ÿè·ä¸º1.0ï¼Œæ„å‘³ç€å¤§æ¡¥çš„æ‰€æœ‰è·¯æ®µéƒ½æœ‰è½¦ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§æ¡¥å·²ç»&amp;rdquo;æ»¡&amp;rdquo;äº†ã€‚ä½†æ˜¯å¿…é¡»æ³¨æ„çš„æ˜¯ï¼Œç›´åˆ°æ­¤æ—¶å¤§æ¡¥è¿˜æ˜¯èƒ½é¡ºç•…é€šè¡Œçš„ã€‚ ç³»ç»Ÿè´Ÿè·ä¸º1.7ï¼Œæ„å‘³ç€è½¦è¾†å¤ªå¤šäº†ï¼Œå¤§æ¡¥å·²ç»è¢«å æ»¡äº†ï¼ˆ100%ï¼‰ï¼Œåé¢ç­‰ç€ä¸Šæ¡¥çš„è½¦è¾†ä¸ºæ¡¥é¢è½¦è¾†çš„70%ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç³»ç»Ÿè´Ÿè·2.0ï¼Œæ„å‘³ç€ç­‰å¾…ä¸Šæ¡¥çš„è½¦è¾†ä¸æ¡¥é¢çš„è½¦è¾†ä¸€æ ·å¤šï¼›ç³»ç»Ÿè´Ÿè·3.0ï¼Œæ„å‘³ç€ç­‰å¾…ä¸Šæ¡¥çš„è½¦è¾†æ˜¯æ¡¥é¢è½¦è¾†çš„2å€ã€‚æ€»ä¹‹ï¼Œå½“ç³»ç»Ÿè´Ÿè·å¤§äº1ï¼Œåé¢çš„è½¦è¾†å°±å¿…é¡»ç­‰å¾…äº†ï¼›ç³»ç»Ÿè´Ÿè·è¶Šå¤§ï¼Œè¿‡æ¡¥å°±å¿…é¡»ç­‰å¾—è¶Šä¹…ã€‚
CPUçš„ç³»ç»Ÿè´Ÿè·ï¼ŒåŸºæœ¬ä¸Šç­‰åŒäºä¸Šé¢çš„ç±»æ¯”ã€‚å¤§æ¡¥çš„é€šè¡Œèƒ½åŠ›ï¼Œå°±æ˜¯CPUçš„æœ€å¤§å·¥ä½œé‡ï¼›æ¡¥æ¢ä¸Šçš„è½¦è¾†ï¼Œå°±æ˜¯ä¸€ä¸ªä¸ªç­‰å¾…CPUå¤„ç†çš„è¿›ç¨‹ï¼ˆprocessï¼‰ã€‚
å¦‚æœCPUæ¯åˆ†é’Ÿæœ€å¤šå¤„ç†100ä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆç³»ç»Ÿè´Ÿè·0.2ï¼Œæ„å‘³ç€CPUåœ¨è¿™1åˆ†é’Ÿé‡Œåªå¤„ç†20ä¸ªè¿›ç¨‹ï¼›ç³»ç»Ÿè´Ÿè·1.0ï¼Œæ„å‘³ç€CPUåœ¨è¿™1åˆ†é’Ÿé‡Œæ­£å¥½å¤„ç†100ä¸ªè¿›ç¨‹ï¼›ç³»ç»Ÿè´Ÿè·1.7ï¼Œæ„å‘³ç€é™¤äº†CPUæ­£åœ¨å¤„ç†çš„100ä¸ªè¿›ç¨‹ä»¥å¤–ï¼Œè¿˜æœ‰70ä¸ªè¿›ç¨‹æ­£æ’é˜Ÿç­‰ç€CPUå¤„ç†ã€‚
ä¸ºäº†ç”µè„‘é¡ºç•…è¿è¡Œï¼Œç³»ç»Ÿè´Ÿè·æœ€å¥½ä¸è¦è¶…è¿‡1.0ï¼Œè¿™æ ·å°±æ²¡æœ‰è¿›ç¨‹éœ€è¦ç­‰å¾…äº†ï¼Œæ‰€æœ‰è¿›ç¨‹éƒ½èƒ½ç¬¬ä¸€æ—¶é—´å¾—åˆ°å¤„ç†ã€‚å¾ˆæ˜¾ç„¶ï¼Œ1.0æ˜¯ä¸€ä¸ªå…³é”®å€¼ï¼Œè¶…è¿‡è¿™ä¸ªå€¼ï¼Œç³»ç»Ÿå°±ä¸åœ¨æœ€ä½³çŠ¶æ€äº†ï¼Œä½ è¦åŠ¨æ‰‹å¹²é¢„äº†ã€‚
ç³»ç»Ÿè´Ÿè·çš„ç»éªŒæ³•åˆ™ 1.0æ˜¯ç³»ç»Ÿè´Ÿè·çš„ç†æƒ³å€¼å—ï¼Ÿ ä¸ä¸€å®šï¼Œç³»ç»Ÿç®¡ç†å‘˜å¾€å¾€ä¼šç•™ä¸€ç‚¹ä½™åœ°ï¼Œå½“è¿™ä¸ªå€¼è¾¾åˆ°0.7ï¼Œå°±åº”å½“å¼•èµ·æ³¨æ„äº†ã€‚ç»éªŒæ³•åˆ™æ˜¯è¿™æ ·çš„ï¼š å½“ç³»ç»Ÿè´Ÿè·æŒç»­å¤§äº0.7ï¼Œä½ å¿…é¡»å¼€å§‹è°ƒæŸ¥äº†ï¼Œé—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Œé˜²æ­¢æƒ…å†µæ¶åŒ–ã€‚ å½“ç³»ç»Ÿè´Ÿè·æŒç»­å¤§äº1.0ï¼Œä½ å¿…é¡»åŠ¨æ‰‹å¯»æ‰¾è§£å†³åŠæ³•ï¼ŒæŠŠè¿™ä¸ªå€¼é™ä¸‹æ¥ã€‚ å½“ç³»ç»Ÿè´Ÿè·è¾¾åˆ°5.0ï¼Œå°±è¡¨æ˜ä½ çš„ç³»ç»Ÿæœ‰å¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œé•¿æ—¶é—´æ²¡æœ‰å“åº”ï¼Œæˆ–è€…æ¥è¿‘æ­»æœºäº†ã€‚ä½ ä¸åº”è¯¥è®©ç³»ç»Ÿè¾¾åˆ°è¿™ä¸ªå€¼ã€‚
å¤šå¤„ç†å™¨ å¦‚æœä½ çš„ç”µè„‘è£…äº†2ä¸ªCPUï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ 2ä¸ªCPUï¼Œæ„å‘³ç€ç”µè„‘çš„å¤„ç†èƒ½åŠ›ç¿»äº†ä¸€å€ã€‚
æ‰€ä»¥ï¼Œ2ä¸ªCPUè¡¨æ˜ç³»ç»Ÿè´Ÿè·å¯ä»¥è¾¾åˆ°2.0ï¼Œæ­¤æ—¶æ¯ä¸ªCPUéƒ½è¾¾åˆ°100%çš„å·¥ä½œé‡ã€‚æ¨å¹¿å¼€æ¥ï¼Œnä¸ªCPUçš„ç”µè„‘ï¼Œå¯æ¥å—çš„ç³»ç»Ÿè´Ÿè·æœ€å¤§ä¸ºn.0ã€‚
å¤šæ ¸å¤„ç†å™¨ èŠ¯ç‰‡å‚å•†å¾€å¾€åœ¨ä¸€ä¸ªCPUå†…éƒ¨ï¼ŒåŒ…å«å¤šä¸ªCPUæ ¸å¿ƒï¼Œè¿™è¢«ç§°ä¸ºå¤šæ ¸CPUã€‚ åœ¨ç³»ç»Ÿè´Ÿè·æ–¹é¢ï¼Œå¤šæ ¸CPUä¸å¤šCPUæ•ˆæœç±»ä¼¼ï¼Œæ‰€ä»¥è€ƒè™‘ç³»ç»Ÿè´Ÿè·çš„æ—¶å€™ï¼Œå¿…é¡»è€ƒè™‘è¿™å°ç”µè„‘æœ‰å‡ ä¸ªCPUã€æ¯ä¸ªCPUæœ‰å‡ ä¸ªæ ¸å¿ƒã€‚ç„¶åï¼ŒæŠŠç³»ç»Ÿè´Ÿè·é™¤ä»¥æ€»çš„æ ¸å¿ƒæ•°ï¼Œåªè¦æ¯ä¸ªæ ¸å¿ƒçš„è´Ÿè·ä¸è¶…è¿‡1.0ï¼Œå°±è¡¨æ˜ç”µè„‘æ­£å¸¸è¿è¡Œã€‚
æ€ä¹ˆçŸ¥é“ç”µè„‘æœ‰å¤šå°‘ä¸ªCPUæ ¸å¿ƒå‘¢ï¼Ÿ
cat /proc/cpuinfoå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹CPUä¿¡æ¯ã€‚grep -c &#39;model name&#39; /proc/cpuinfoå‘½ä»¤ï¼Œç›´æ¥è¿”å›CPUçš„æ€»æ ¸å¿ƒæ•°ã€‚
æœ€ä½³è§‚å¯Ÿæ—¶é•¿ æœ€åä¸€ä¸ªé—®é¢˜ï¼Œ&amp;rdquo;load average&amp;rdquo;ä¸€å…±è¿”å›ä¸‰ä¸ªå¹³å‡å€¼&amp;mdash;-1åˆ†é’Ÿç³»ç»Ÿè´Ÿè·ã€5åˆ†é’Ÿç³»ç»Ÿè´Ÿè·ï¼Œ15åˆ†é’Ÿç³»ç»Ÿè´Ÿè·ï¼Œ&amp;mdash;-åº”è¯¥å‚è€ƒå“ªä¸ªå€¼ï¼Ÿ å¦‚æœåªæœ‰1åˆ†é’Ÿçš„ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼Œå…¶ä»–ä¸¤ä¸ªæ—¶é—´æ®µéƒ½å°äº1.0ï¼Œè¿™è¡¨æ˜åªæ˜¯æš‚æ—¶ç°è±¡ï¼Œé—®é¢˜ä¸å¤§ã€‚ å¦‚æœ15åˆ†é’Ÿå†…ï¼Œå¹³å‡ç³»ç»Ÿè´Ÿè·å¤§äº1.0ï¼ˆè°ƒæ•´CPUæ ¸å¿ƒæ•°ä¹‹åï¼‰ï¼Œè¡¨æ˜é—®é¢˜æŒç»­å­˜åœ¨ï¼Œä¸æ˜¯æš‚æ—¶ç°è±¡ã€‚æ‰€ä»¥ï¼Œä½ åº”è¯¥ä¸»è¦è§‚å¯Ÿ&amp;rdquo;15åˆ†é’Ÿç³»ç»Ÿè´Ÿè·&amp;rdquo;ï¼Œå°†å®ƒä½œä¸ºç”µè„‘æ­£å¸¸è¿è¡Œçš„æŒ‡æ ‡ã€‚</description>
    </item>
    
  </channel>
</rss>